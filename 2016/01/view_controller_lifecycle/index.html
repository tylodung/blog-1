<!doctype html>
<html lang="ja" itemscope itemtype="http://schema.org/Blog">
<head>
    <meta charset="utf-8">
  <title>ãƒ¡ãƒ¢ãƒ­ã‚°</title>
  <meta name="description" content="ğŸ’¡ Personal notes about somthing I&#39;m interested in" id="meta-description">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/blog/css/global.css">
  <script>window.lazyLoadOptions = {};</script>
<link rel="stylesheet" href="/blog/css/prism.css" type="text/css">
<link rel="stylesheet" href="/blog/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <header class="header header_component_global">
    <div class="header__title header__title"><a href="/blog/">ãƒ¡ãƒ¢ãƒ­ã‚°</a></div>
    <p class="header__description">ğŸ’¡ Personal notes about somthing I&#39;m interested in</p>
    <aside><blockquote class="header__epigraph">Well, he fuffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could not get the house down.</blockquote></aside>
    <nav class="navigation navigation-global">
      <a href="/blog/" class="navigation__link">ğŸ“˜ Latest Articles</a>
    </nav>
  </header>
  <div class="container">
    <main class="main">
      <article itemprop="blogPost" itemscope itemType="http://schema.org/BlogPosting">
        <header class="header">
          <h1 class="header__title" itemprop="name">View Controller Lifecycle</h1>
          <div>
            <time datetime="2016-01-11T13:15:00.000Z" itemprop="datePublished">
              <span class="calendar-icon">ğŸ“…</span><span>2016å¹´1æœˆ11æ—¥</span>
            </time>
          </div>
          
        </header>
        <div id="article-content" class="content" itemprop="articleBody"><p>viewDidLoadã¨viewDidAppearã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ï¼ˆã»ã¼å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ”ãƒšï¼‰ã€‚å¼•ç”¨ä¸­ã®å¤ªå­—è£…é£¾ã¯ç§ã€‚</p>
<p><a href="https://developer.apple.com/library/ios/referencelibrary/GettingStarted/DevelopiOSAppsSwift/Lesson4.html" target="_blank" rel="noopener">Work with View Controllers</a>ã«ã‚ã‚‹ã€ŒUnderstand the View Controller Lifecycleã€ã«æ›¸ã„ã¦ã‚ã‚‹èª¬æ˜ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã€‚</p>
<a id="more"></a>
<blockquote>
<p><img src="https://developer.apple.com/library/ios/referencelibrary/GettingStarted/DevelopiOSAppsSwift/Art/4_vclife_2x.png" alt=""></p>
<p>UIViewController methods get called as follows:</p>
<ul>
<li>viewDidLoad()â€“Called when the view controllerâ€™s content view (the top of its view hierarchy) is created and loaded from a storyboard. <strong>This method is intended for initial setup. However, because views may be purged due to limited resources in an app, there is no guarantee that it will be called only once.</strong></li>
<li>viewWillAppear()â€“<strong>Intended for any operations that you want always to occur before the view becomes visible.</strong> Because a viewâ€™s visibility may be toggled or obscured by other views, this method is always called immediately before the content view appears onscreen.</li>
<li>viewDidAppear()â€“<strong>Intended for any operations that you want to occur as soon as the view becomes visible, such as fetching data or showing an animation.</strong> Because a viewâ€™s visibility may be toggled or obscured by other views, this method is always called immediately after the content view appears onscreen.</li>
</ul>
</blockquote>
<p>viewDidLoadã¯storyboardã‹ã‚‰viewãŒèª­ã¿è¾¼ã¾ã‚ŒãŸæ™‚ã«ç™ºç”Ÿã™ã‚‹ã€‚èª­ã¿è¾¼ã‚“ã viewã®åˆæœŸåŒ–ã®ãŸã‚ã«ä½¿ã†ã“ã¨ã‚’æ„å›³ã—ã¦ã‚‹ã‘ã©ã€viewã¯ãƒªã‚½ãƒ¼ã‚¹ã®åˆ¶é™ã‹ã‚‰purgeã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€ã€Œä¸€åº¦ã ã‘å‘¼ã°ã‚Œã‚‹ã€ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã€‚</p>
<p>viewWillAppearã¨viewDidAppearã¯viewãŒvisibleã«ãªã£ãŸã¨ãã«ç™ºç”Ÿã™ã‚‹ã€‚ã€Œthe view becomes visibleã€ã¨ã„ã†ã®ã¯ã€<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/#//apple_ref/occ/instm/UIViewController/viewWillAppear:" target="_blank" rel="noopener">UIViewController Class Reference</a>ã‚ãŸã‚Šã‚’å‚è€ƒã«ã™ã‚‹ã¨ã€ã€Œits view is about to be added to a view hierarchyã€ã¨åŒã˜æ„å‘³ã ã¨æ€ã†ã€‚</p>
<p>ä»¥ä¸‹ã¯<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class" target="_blank" rel="noopener">UIViewController Class Reference</a>ã‚ˆã‚Šã€‚</p>
<blockquote>
<p><strong>viewWillAppear:</strong></p>
<p>Notifies the view controller that its view is about to <strong>be added to a view hierarchy.</strong></p>
<p>This method is called before the view controllerâ€™s view is about to be added to a view hierarchy and before any animations are configured for showing the view. You can override this method to perform custom tasks associated with displaying the view. For example, you might use this method to change the orientation or style of the status bar to coordinate with the orientation or style of the view being presented. If you override this method, you must call super at some point in your implementation.</p>
<p>For more information about the how views are added to view hierarchies by a view controller, and the sequence of messages that occur, see Responding to Display-Related Notifications.</p>
<p>NOTE<br>If a view controller is presented by a view controller inside of a popover, this method is not invoked on the presenting view controller after the presented controller is dismissed.</p>
</blockquote>
<p>view hierarchyã¯æ–‡å­—é€šã‚Šã€Œviewã®éšå±¤(æ§‹é€ )ã€ã¨ã„ã†ã“ã¨ã§ã€<a href="https://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/CreatingViews/CreatingViews.html" target="_blank" rel="noopener">View Programming Guide for iOS: Views</a>ã‚ãŸã‚ŠãŒå‚è€ƒã«ãªã‚‹ã€‚</p>
<blockquote>
<p>Figure 3-1 shows an example of how the layering of views creates the desired visual effect for an application. In the case of the Clock application, the view hierarchy is composed of a mixture of views derived from different sources. The tab bar and navigation views are special view hierarchies provided by the tab bar and navigation controller objects to manage portions of the overall user interface. Everything between those bars belongs to the custom view hierarchy that the Clock application provides.</p>
<p><img src="https://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/Art/windowlayers.jpg" alt=""></p>
</blockquote>
<p>ãŸã¨ãˆã° navigation controller ã§ã¯ã€navigation controller ã§ã¯ã€€pushViewControllerã€€ã¨ã‹ã§ç”»é¢é·ç§»ã—ãŸã¨ãã«ã€viewDidAppearãªã©ã®å„ç¨®ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã™ã‚‹ã€‚</p>
<blockquote>
<p>Navigation Controllers</p>
<p>A navigation controller manages a stack of view controllers to provide a drill-down interface for hierarchical content. The view hierarchy of a navigation controller is self contained. It is composed of views that the navigation controller manages directly and views that are managed by content view controllers you provide. Each content view controller manages a distinct view hierarchy, and the navigation controller coordinates the navigation between these view hierarchies.</p>
<p>Monitoring Changes to the Navigation Stack</p>
<p>Whenever you push or pop a view controller, the navigation controller sends messages to the affected view controllers. The navigation controller also sends messages to its delegate when its stack changes. Figure 1-5 shows the sequence of events that occurs during a push or pop operation and the corresponding messages that are sent to your custom objects at each stage. The new view controller reflects the view controller that is about to become the topmost view controller on the stack.</p>
<p>Figure 1-5 Messages sent during stack changes</p>
<p><img src="https://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/ViewControllerCatalog/Art/nav_controller_notifications.png" alt=""></p>
</blockquote>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/index.html#//apple_ref/occ/instm/UIViewController/presentViewController:animated:completion:" target="_blank" rel="noopener">presentViewController</a>ã§viewã‚’è¡¨ç¤ºã™ã‚‹å ´åˆã¯ã€è¡¨ç¤ºã™ã‚‹view controller(presented view controller)ã®<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/index.html#//apple_ref/occ/instp/UIViewController/modalPresentationStyle" target="_blank" rel="noopener">modalPresentationStyle</a>ã«ã‚ˆã£ã¦ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã™ã‚‹ã‹ã©ã†ã‹ãŒå¤‰ã‚ã‚‹ã€‚ .FullScreen ã®å ´åˆã¯ã€€presentingã€€viewã¯æ¶ˆãˆã‚‹ã®ã§ã€viewDidDisappearãªã©ç™ºç”Ÿã™ã‚‹ã€‚ .OverFullScreen ã®å ´åˆã¯ã€presenting view ã¯æ¶ˆãˆãªã„ã®ã§ã€viewDidDisappearãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ãªã„ï¼ˆpresented view controllerã®<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/index.html#//apple_ref/occ/instp/UIViewController/definesPresentationContext" target="_blank" rel="noopener">definesPresentationContext</a>ãŒtrueã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼‰ã€‚</p>
<blockquote>
<p>* OverFullScreen  </p>
<p>A view presentation style in which the presented view covers the screen. The views beneath the presented content are <strong>not removed from the view hierarchy</strong> when the presentation finishes. So if the presented view controller does not fill the screen with opaque content, the underlying content shows through.  </p>
<p>Available in iOS 8.0 and later.</p>
</blockquote>
<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒBackgroundï¼ˆã¾ãŸã¯Suspendedï¼‰ã«ãªã£ãŸå ´åˆã¯ã€viewDidDisappearãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ç™ºç”Ÿã—ãªã„ã€‚ã‚¢ãƒ—ãƒªãŒkillã•ã‚Œãªã‘ã‚Œã°ã€frontã«ãã®ã¾ã¾ã®çŠ¶æ…‹ã§æˆ»ã£ã¦ãã‚‹ã‘ã©ã€killã•ã‚Œã¦ã„ã‚Œã°ã€storyboardã‹ã‚‰ã‚ã‚‰ãŸã‚ã¦viewãŒèª­ã¿è¾¼ã¾ã‚‹ã¨æ€ã†ã®ã§ï¼ˆã¡ã‚ƒã‚“ã¨ç¢ºã‹ã‚ã¦ãªã„ã‘ã©..ï¼‰ã€viewDidLoadãŒç™ºç”Ÿã™ã‚‹ã¯ãšã€‚ä»¥ä¸‹ã¯<a href="http://shop.oreilly.com/product/0636920044352.do" target="_blank" rel="noopener">Programming iOS 9</a>(<a href="https://books.google.co.jp/books?id=rxHiCgAAQBAJ&amp;pg=PT401&amp;dq=A+view+does+not+disappear+merely+because+the+app+is+backgrounded+and+suspended.&amp;hl=ja&amp;sa=X&amp;ved=0ahUKEwiCpeLL4qLKAhXF6KYKHf_HA3IQ6AEIHDAA#v=onepage&amp;q=A&#x25;20view&#x25;20does&#x25;20not&#x25;20disappear&#x25;20merely&#x25;20because&#x25;20the&#x25;20app&#x25;20is&#x25;20backgrounded&#x25;20and&#x25;20suspended.&amp;f=false" target="_blank" rel="noopener">Programming iOS 9: Dive Deep into Views, View Controllers, and Frameworks - Matt Neuburg - Google ãƒ–ãƒƒã‚¯ã‚¹</a>)ã‹ã‚‰ã€‚</p>
<blockquote>
<p>A view does not disappear merely because the app is backgrounded and suspended. Once suspended, your app might be killed. So you cannot rely on viewWillDisappear: and viewDidDisappear: alone for saving data that the app will need the next time it launches. If you are to cover every case, you may need to ensure that your data-saving code also runs in response to an application lifetime event such as applicationWillResignActive: or applicationDidEnterBackground:</p>
</blockquote>
<p>å‚è€ƒï¼š <a href="http://qiita.com/mo_to_44/items/0ca628b4cc74c8c5599d" target="_blank" rel="noopener">iOS - UIViewControllerã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« - Qiita</a></p>
</div>
      </article>
    </main>
  </div>
  <script src="/blog/js/lazysizes/lazysizes.min.js" async></script>
<script type="text/javascript">
  // http://css-tricks.com/favicons-next-to-external-links/
  for (const article of document.getElementsByTagName('article')){
    for (const link of article.getElementsByTagName('a')){
      const hostname = link.hostname;
      if (hostname === location.hostname) { continue; }
      link.style.background = `url(http://www.google.com/s2/favicons?domain=${hostname}) 4px center no-repeat`;
      link.style.paddingLeft = '24px';
    }
  }
</script>
</body>
</html>