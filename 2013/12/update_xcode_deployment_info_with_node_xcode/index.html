<!doctype html>
<html lang="ja" itemscope itemtype="http://schema.org/Blog">
<head>
    <meta charset="utf-8">
  <title>ãƒ¡ãƒ¢ãƒ­ã‚°</title>
  <meta name="description" content="ğŸ’¡ Personal notes about somthing I&#39;m interested in" id="meta-description">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/blog/css/global.css">
  <script>window.lazyLoadOptions = {};</script>
<link rel="stylesheet" href="/blog/css/prism.css" type="text/css">
<link rel="stylesheet" href="/blog/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <header class="header header_component_global">
    <div class="header__title header__title"><a href="/blog/">ãƒ¡ãƒ¢ãƒ­ã‚°</a></div>
    <p class="header__description">ğŸ’¡ Personal notes about somthing I&#39;m interested in</p>
    <aside><blockquote class="header__epigraph">Well, he fuffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could not get the house down.</blockquote></aside>
    <nav class="navigation navigation-global">
      <a href="/blog/" class="navigation__link">ğŸ“˜ Latest Articles</a>
    </nav>
  </header>
  <div class="container">
    <main class="main">
      <article itemprop="blogPost" itemscope itemType="http://schema.org/BlogPosting">
        <header class="header">
          <h1 class="header__title" itemprop="name">gruntã‹ã‚‰Xcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Deployment infoã‚’å¤‰æ›´ã™ã‚‹</h1>
          <div>
            <time datetime="2013-12-08T11:00:00.000Z" itemprop="datePublished">
              <span class="calendar-icon">ğŸ“…</span><span>2013å¹´12æœˆ8æ—¥</span>
            </time>
          </div>
          
        </header>
        <div id="article-content" class="content" itemprop="articleBody"><p>gruntã‹ã‚‰Xcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Deployment infoã‚’å¤‰æ›´ã™ã‚‹ã€‚Xcodeã‹ã‚‰å¤‰æ›´ã™ã‚‹ã®ã¯ç°¡å˜ã€‚ã§ã‚‚ãã‚Œã‚’gruntã§taskã¨ã—ã¦å®Ÿè¡Œã™ã‚‹ã€‚ã“ã†ã—ãŸä½œæ¥­ã‚’grunt taskã§è¡Œã†ãƒ¡ãƒªãƒƒãƒˆã¯ã€ç¹°ã‚Šè¿”ã—è¡Œã†ä½œæ¥­ã®å ´åˆã¯ã€ãã‚Œã‚’è‡ªå‹•åŒ–ã§ãã‚‹ã¨ã„ã†ç‚¹ã€‚  </p>
<a id="more"></a>
<p><img src="http://farm4.staticflickr.com/3680/11268544774_8985928bc5_o.png" alt=""></p>
<p>AppName.xcodeprojã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã«ã¯ã€project.pbxprojã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã£ã¦ã€ã“ã“ã«Xcodeã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£ã®è¨­å®šãŒå…¥ã£ã¦ã„ã¾ã™ã€‚<a href="https://github.com/alunny/node-xcode" target="_blank" rel="noopener">node-xcode</a>ã¨ã„ã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã“ã®project.pbxprojã®å†…å®¹ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ã€å†…å®¹ã‚’æ›´æ–°ä¿å­˜ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å…¨ä½“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯<a href="https://gist.github.com/memolog/7855866" target="_blank" rel="noopener">Gist</a>ã«ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¹ã‚¯ã¨ã—ã¦å‹•ãã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ï¼‰ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">var</span> xcode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'xcode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> _ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span> <span class="token operator">||</span> grunt<span class="token punctuation">.</span>util<span class="token punctuation">.</span>_<span class="token punctuation">;</span>
    <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>src<span class="token punctuation">;</span>
    <span class="token keyword">var</span> project <span class="token operator">=</span> xcode<span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cb <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    project<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        grunt<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">var</span> XCBuildConfigurationSections <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">pbxXCBuildConfigurationSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>XCBuildConfigurationSections<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>section<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>section<span class="token punctuation">.</span>buildSettings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> bs <span class="token operator">=</span> section<span class="token punctuation">.</span>buildSettings<span class="token punctuation">;</span>
          bs<span class="token punctuation">[</span><span class="token string">'IPHONEOS_DEPLOYMENT_TARGET'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'6.0'</span><span class="token punctuation">;</span>
          bs<span class="token punctuation">[</span><span class="token string">'TARGETED_DEVICE_FAMILY'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> project<span class="token punctuation">.</span><span class="token function">writeSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‘ãƒ¼ã‚¹ã¯ã€xcode.project(path)ã§project.pbxprojã‚’æŒ‡å®šã—ã¦ã€ãã®ã‚ã¨project.parse()ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚å¼•æ•°ã«functionã‚’æ¸¡ã™ã¨ã€ãƒ‘ãƒ¼ã‚¹å®Ÿè¡Œå¾Œã«projectå†…å®¹ã®æ“ä½œãŒã§ãã¾ã™ã€‚</p>
<p>project.pbxXCBuildConfigurationSection()ã§ã¯ã€project.pbxprojå†…ã®isa=XCBuildConfigurationã«ãªã£ã¦ã„ã‚‹è¨­å®šãŒé…åˆ—ã§è¿”ã£ã¦ãã¾ã™ï¼ˆé€šå¸¸ã€ŒReleaseã€ã¨ã€ŒDebugã€ãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒ“ãƒ«ãƒ‰ã”ã¨ã«ä¸€ã¤ãšã¤ã§è¨ˆ4ã¤ãã‚‹ã¯ãšï¼‰ã€‚</p>
<p>è¨­å®šæœ¬ä½“ã¯ã€ŒbuildSettingsã€ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚Deployment targetã®è¨­å®šã¯ã€ŒIPHONEOS_DEPLOYMENT_TARGETã€ã¨ã„ã†åå‰ã§å…¥ã£ã¦ã„ã‚‹ã®ã§ã€ãã®keyã®å€¤ã‚’å¤‰æ›´ã™ã‚‹ã€‚ã€ŒDevicesã€ã®è¨­å®šã¯ã€ŒTARGETED_DEVICE_FAMILYã€ã€‚ã“ã®ã‚ãŸã‚Šã®åå‰ã¯project.pbxprojã‚’ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã„ã¦ã¿ã‚‹ã¨ã€ã ã„ãŸã„ã‚ã‹ã‚Šã¾ã™ã€‚</p>
<p>ãã‚Œã§å†…å®¹ã®æ“ä½œã‚’ã—ãŸã‚ã¨ã«ã€fs.writeFileSync(path, project.writeSync(), â€˜utf-8â€™);ã‚’ã—ã¦ã€å†…å®¹ã‚’ä¸Šæ›¸ãã—ã¦çµ‚äº†ã—ã¾ã™ã€‚æœ€å¾Œã®cb()ã¯ã€<a href="http://gruntjs.com/api/inside-tasks" target="_blank" rel="noopener">Gruntã‚¿ã‚¹ã‚¯å†…ã®this.async</a>ã‚’å®Ÿè¡Œã—ã¦ã€ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã•ã›ã¦ã„ã¾ã™ã€‚</p>
<p>ã¨ã„ã†ï¼ˆé›‘ã™ãã¦ã‚ã¨ã§è‡ªåˆ†ã§æ€ã„å‡ºã›ã‚‹ã®ã‹ä¸å®‰ãªï¼‰ãƒ¡ãƒ¢ã€‚</p>
</div>
      </article>
    </main>
  </div>
  <script src="/blog/js/lazysizes/lazysizes.min.js" async></script>
<script type="text/javascript">
  // http://css-tricks.com/favicons-next-to-external-links/
  for (const article of document.getElementsByTagName('article')){
    for (const link of article.getElementsByTagName('a')){
      const hostname = link.hostname;
      if (hostname === location.hostname) { continue; }
      link.style.background = `url(http://www.google.com/s2/favicons?domain=${hostname}) 4px center no-repeat`;
      link.style.paddingLeft = '24px';
    }
  }
</script>
</body>
</html>