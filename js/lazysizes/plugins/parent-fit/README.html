<h1 id="lazySizes-parent-fit-extension"><a href="#lazySizes-parent-fit-extension" class="headerlink" title="lazySizes parent fit extension"></a>lazySizes parent fit extension</h1><p>The parent fit plugin extends the <code>data-sizes=&quot;auto&quot;</code> feature to also calculate the right <code>sizes</code> for <code>object-fit: contain|cover</code> image elements as also <strong>height</strong> ( and width) constrained image elements in general.</p>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>For this to work properly the physical aspect-ratio of the image candidates need to be calculable. To do so at least one of the image candidates inside the <code>srcset</code> attribute also need to include a <strong>h</strong> (height) descriptor for at least one image candidate in each <code>srcset</code>.</p>
<h3 id="object-fit-contain-cover-usage"><a href="#object-fit-contain-cover-usage" class="headerlink" title="object-fit: contain|cover usage"></a>object-fit: contain|cover usage</h3><p>Simply include this plugin, combine your width descriptors with height descriptors and use <code>object-fit</code>.</p>
<pre><code class="html"><span class="tag">&lt;<span class="name">img</span> <span class="attr">data-srcset</span>=<span class="string">"http://lorempixel.com/400/800/people/6/ 400w 800h,</span></span>
<span class="tag"><span class="string">    http://lorempixel.com/300/600/people/6/ 300w,</span></span>
<span class="tag"><span class="string">    http://lorempixel.com/200/400/people/6/ 200w"</span></span>
<span class="tag">     <span class="attr">data-sizes</span>=<span class="string">"auto"</span></span>
<span class="tag">     <span class="attr">class</span>=<span class="string">"lazyload"</span></span>
<span class="tag">     <span class="attr">style</span>=<span class="string">"width: 400px; height: 400px; object-fit: contain;"</span> /&gt;</span>

<span class="tag">&lt;<span class="name">img</span> <span class="attr">data-srcset</span>=<span class="string">"http://lorempixel.com/800/400/people/9/ 800w 400h,</span></span>
<span class="tag"><span class="string">    http://lorempixel.com/600/300/people/9/ 600w,</span></span>
<span class="tag"><span class="string">    http://lorempixel.com/400/200/people/9/ 400w"</span></span>
<span class="tag">     <span class="attr">data-sizes</span>=<span class="string">"auto"</span></span>
<span class="tag">     <span class="attr">class</span>=<span class="string">"lazyload"</span></span>
<span class="tag">     <span class="attr">style</span>=<span class="string">"width: 400px; height: 400px; object-fit: cover;"</span> /&gt;</span>
</code></pre>
<h3 id="data-parent-fit-”contain-cover-width”-usage"><a href="#data-parent-fit-”contain-cover-width”-usage" class="headerlink" title="[data-parent-fit=”contain|cover|width”] usage"></a>[data-parent-fit=”contain|cover|width”] usage</h3><p>Due to the fact, that object-fit isn’t supported in IE11. This plugin also supports calculating height and width constrained images based on the parent element.</p>
<p>To do so include this plugin, combine your width descriptors with height descriptors and add the attribute <code>data-parent-fit</code> with either <code>&quot;contain&quot;</code> or <code>&quot;cover&quot;</code> as the keyword.</p>
<pre><code class="html"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 400px; height: 400px; display: flex; align-items: center; justify-content: center;"</span>&gt;</span>
    <span class="tag">&lt;<span class="name">img</span> <span class="attr">data-srcset</span>=<span class="string">"http://lorempixel.com/400/800/people/6/ 400w 800h,</span></span>
<span class="tag"><span class="string">        http://lorempixel.com/300/600/people/6/ 300w,</span></span>
<span class="tag"><span class="string">        http://lorempixel.com/200/400/people/6/ 200w"</span></span>
<span class="tag">         <span class="attr">data-sizes</span>=<span class="string">"auto"</span></span>
<span class="tag">         <span class="attr">class</span>=<span class="string">"lazyload"</span></span>
<span class="tag">         <span class="attr">data-parent-fit</span>=<span class="string">"contain"</span></span>
<span class="tag">         <span class="attr">style</span>=<span class="string">"max-width: 100%; max-height: 100%;"</span> /&gt;</span>
<span class="tag">&lt;/<span class="name">div</span>&gt;</span>
</code></pre>
<p>In case the <em>width</em> keyword is used, lazySizes simply takes the width of the parent container instead of the <code>img</code> element itself. In this case a <strong>h</strong> descriptor isn’t necessary.</p>
<h3 id="data-parent-container-”html-my-image-container”"><a href="#data-parent-container-”html-my-image-container”" class="headerlink" title="[data-parent-container=”html|.my-image-container”]"></a>[data-parent-container=”html|.my-image-container”]</h3><p>Normally the next closest parent that is not a <code>picture</code> element is used as the parent (i.e.: <code>:not(picture)</code>). This can be changed using the <code>data-parent-container</code> option. It takes any simple selector. If you want to use the viewport as the parent simply add <code>html</code>.</p>
<p>As a special keyword the value <code>self</code> can be used to signalize, that image itself should be taken.</p>
<h3 id="Controlling-data-parent-fit-and-data-parent-container-with-CSS"><a href="#Controlling-data-parent-fit-and-data-parent-container-with-CSS" class="headerlink" title="Controlling data-parent-fit and data-parent-container with CSS"></a>Controlling <code>data-parent-fit</code> and <code>data-parent-container</code> with CSS</h3><p>These option can also be set via CSS by abusing the <code>font-family</code> property.</p>
<p>The <code>data-parent-fit</code> option is called here <code>parent-fit</code> and <code>data-parent-container</code> is called <code>parent-container</code>:</p>
<pre><code class="css"><span class="selector-tag">img</span><span class="selector-class">.my-image</span> {
    <span class="attribute">font-family</span>: parent-container: html; <span class="attribute">parent-fit</span>: contain;
}
</code></pre>
<p><strong>Note: This plugin should be also added, if you use the <a href="../bgset/">bgset plugin</a> in combination with <code>data-sizes=&quot;auto&quot;</code> and <code>background-size: cover|contain</code> and it is also the base of the <a href="../object-fit">object-fit polyfill plugin</a>.</strong></p>
