<!doctype html>
<html lang="ja" itemscope itemtype="http://schema.org/Blog">
<head>
    <meta charset="utf-8">
  <title>ãƒ¡ãƒ¢ãƒ­ã‚°</title>
  <meta name="description" content="ğŸ’¡ Personal notes about somthing I&#39;m interested in" id="meta-description">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/blog/css/global.css">
  <script>window.lazyLoadOptions = {};</script>
<link rel="stylesheet" href="/blog/css/prism.css" type="text/css">
<link rel="stylesheet" href="/blog/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <header class="header header_component_global">
    <div class="header__title header__title"><a href="/blog/">ãƒ¡ãƒ¢ãƒ­ã‚°</a></div>
    <p class="header__description">ğŸ’¡ Personal notes about somthing I&#39;m interested in</p>
    <aside><blockquote class="header__epigraph">Well, he fuffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could not get the house down.</blockquote></aside>
    <nav class="navigation navigation-global">
      <a href="/blog/" class="navigation__link">ğŸ“˜ Latest Articles</a>
    </nav>
  </header>
  <div class="container">
    <main class="main">
      <article itemprop="blogPost" itemscope itemType="http://schema.org/BlogPosting">
        <header class="header">
          <h1 class="header__title" itemprop="name">CSS Selector Performance</h1>
          <div>
            <time datetime="2012-05-27T06:00:00.000Z" itemprop="datePublished">
              <span class="calendar-icon">ğŸ“…</span><span>2012å¹´5æœˆ27æ—¥</span>
            </time>
          </div>
          
        </header>
        <div id="article-content" class="content" itemprop="articleBody"><p><a href="http://calendar.perfplanet.com/2011/css-selector-performance-has-changed-for-the-better/" target="_blank" rel="noopener">Performance Calendar Â» CSS Selector Performance has changed! (For the better)</a>ã«Webkitã§CSSã®ãƒãƒƒãƒãƒ³ã‚°ã®æœ€é©åŒ–ãŒé€²ã‚“ã§ã„ã‚‹ã¨ã„ã†è©±ãŒæ²è¼‰ã•ã‚Œã¦ã„ã¦ã€ä¸‹è¨˜ã®4ã¤æœ€é©åŒ–æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ã¾ã™ï¼ˆvia <a href="http://paulirish.com/2012/box-sizing-border-box-ftw/" target="_blank" rel="noopener">* { box-sizing: border-box } FTW Â« Paul Irish</a>ï¼‰ã€‚ã¨ã„ã†è©±ã®ç´¹ä»‹ã€‚</p>
<a id="more"></a>
<ol>
<li>Style Sharing</li>
<li>Rule Hashes</li>
<li>Ancestor Filters</li>
<li>Fast Path</li>
</ol>
<p>Style Sharingã¯ã€Style treeã«ã‚ã‚‹è¦ç´ ãŒã€ã™ã§ã«è¨ˆç®—æ¸ˆã¿ã®ã‚‚ã®ã¨åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’æŠŠæ¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ä»•çµ„ã¿ã§ã€ãŸã¨ãˆã°1ã¤ç›®ã®pè¦ç´ ã§è¨ˆç®—ã—ãŸã‚¹ã‚¿ã‚¤ãƒ«ãŒã€2ã¤ç›®ã®pè¦ç´ ã«ã‚‚é©ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’ç†è§£ã§ãã‚‹ã¨ã€2ã¤ç›®ã®pè¦ç´ ã§å†è¨ˆç®—ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã¨ã‹ã€‚ãã†ã„ã†è©±ã€‚</p>
<p>Rule Hashesã¯ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã®ä¸€ç•ªå³ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒ¬ã‚¯ã‚¿ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã™ã‚‹ä»•çµ„ã¿ã€‚ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã•ã‚ŒãŸã‚»ãƒ¬ã‚¯ã‚¿ç¾¤ã®ã†ã¡ã€å½“è©²è¦ç´ ã¨ãƒãƒƒãƒãƒ³ã‚°ã—ãªã„ã‚»ãƒ¬ã‚¯ã‚¿ã¯å‚ç…§ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã®ã§åŠ¹ç‡çš„ã€‚</p>
<p>Ancestor Filtersã¯ã€ã„ã‚ã„ã‚æ›¸ã„ã¦ã‚ã‚‹ã®ã§ã™ãŒã€ã–ã£ãã‚Šè¨€ã†ã¨ã€ç¢ºåº¦é«˜ã‚ã®ã€Œè¦‹åˆ‡ã‚Šã€ã‚’ã™ã‚‹ã“ã¨ã§ã€å­å­«ã‚»ãƒ¬ã‚¯ã‚¿ãªã©ã‚’åŠ¹ç‡çš„ã«ãƒãƒƒãƒãƒ³ã‚°ã•ã›ã‚‹ä»•çµ„ã¿ã€‚ä»•çµ„ã¿çš„ã«ã€Œ<a href="http://eow.alc.co.jp/search?q=false-positive&amp;ref=wl" target="_blank" rel="noopener">false positive</a>ã€ã¯è¨±å®¹ã™ã‚‹ã‘ã©ã€ã€Œ<a href="http://eow.alc.co.jp/search?q=false-negative&amp;ref=wl" target="_blank" rel="noopener">false negative</a>ã€ã¯è¨±å®¹ã—ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‚‰ã—ã„ã€‚ã‚ã‚‹ã‚»ãƒ¬ã‚¯ã‚¿ãŒã€Œãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã€ã¨åˆ¤å®šã—ãŸå ´åˆã«ã¯ã€100&#x25;ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã¨è¨€ãˆã‚‹ã¨ã“ã‚ã¾ã§é€šå¸¸ã®ãƒãƒƒãƒãƒ³ã‚°å‡¦ç†ã‚’é€²ã‚ã¦ã€ãƒãƒƒãƒãƒ³ã‚°ã—ãªã„ã‚»ãƒ¬ã‚¯ã‚¿ã‚’èª¤ã£ã¦ãƒãƒƒãƒãƒ³ã‚°ã•ã›ãªã„ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚é€†ã«ã€ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã¯ãšã®ã‚»ãƒ¬ã‚¯ã‚¿ãŒç„¡è¦–ã•ã‚Œã‚‹å¯èƒ½æ€§ã¯ã‚ã‚‹ã®ã§ã€CSSã«ç„¡é§„ãŒãªã„ã‚ˆã†ã«ã—ã¦ã€false positiveãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚’ç„¡ç”¨ã«å¢—ã‚„ã•ãªã„ã‚ˆã†ã«ã™ã‚‹ã®ã¯å¤§äº‹ã ã¨ã€‚</p>
<p>Fast Pathã¯æ±ç”¨çš„ãªãƒãƒƒãƒãƒ³ã‚°å‡¦ç†ã‚’ã€Œa non-recursive, fully inlined loopã€ãªã‹ãŸã¡ã«å†å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–ã‚’æŒ‡ã™ã‚ˆã†ã§ã™ã€‚</p>
<blockquote>
<p>The take-away is that if we can keep stylesheet size sane, and be reasonable with our selectors, we donâ€™t need to contort ourselves to match yesterdays browser landscape. Bravo Antti!</p>
</blockquote>
<p>çµè«–ã¨ã—ã¦ã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆãŒå¦¥å½“ãªã‚µã‚¤ã‚ºã§ã€ã‚»ãƒ¬ã‚¯ã‚¿ã‚‚ååˆ†å¦¥å½“ãªçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚Œã°ã€ãã‚Œä»¥ä¸Šé ‘å¼µã‚‰ãªãã¦ã‚‚è‰¯ã„ã‚ˆï¼ã¿ãŸã„ãªã€‚</p>
<p>ã¤ã„ã§ã«ã€<a href="http://paulirish.com/2012/box-sizing-border-box-ftw/" target="_blank" rel="noopener">* { box-sizing: border-box } FTW Â« Paul Irish</a>ã®æœ€å¾Œã«æ›¸ã‹ã‚Œã¦ã„ã‚‹performanceã®ç¯€ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ï¼ˆå…¨ç§°ã‚»ãƒ¬ã‚¯ã‚¿ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã©ã†ãªã®çš„ãªã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦ï¼‰ã€‚</p>
<blockquote>
<p>You might get up in arms about the universal <em> selector. Apparently youâ€™ve heard its slow. Firstly, itâ€™s not. It is as fast as h1 as a selector. It can be slow when you specifically use it like .foo &gt; </em>, so donâ€™t do that. Aside from that, you are not allowed to care about the performance of * unless you concatenate all your javascript, have it at the bottom, minify your css and js, gzip all your assets, and losslessly compress all your images. If you arenâ€™t getting 90+ Page Speed scores, itâ€™s way too early to be thinking about selector optimization.</p>
</blockquote>
<p>å…¨ç§°ã‚»ãƒ¬ã‚¯ã‚¿ã¯è¨€ã‚ã‚Œã¦ã„ã‚‹ã»ã©é…ããªã„ã¨ï¼ˆ.foo &gt; *ã¿ãŸã„ãªä½¿ã„æ–¹ã™ã‚‹ã¨é…ã„ã‹ã‚‚ï¼‰ã€‚ã¨ã„ã†ã‚ˆã‚Šã€ãã“æ°—ã«ã™ã‚‹ã‚ˆã‚Šå…ˆã«ã™ã‚‹ã“ã¨ã‚ã‚‹ã‚ˆçš„ãªã€‚ãªã‚‹ã»ã©ï¼</p>
</div>
      </article>
    </main>
  </div>
  <script src="/blog/js/lazysizes/lazysizes.min.js" async></script>
<script type="text/javascript">
  // http://css-tricks.com/favicons-next-to-external-links/
  for (const article of document.getElementsByTagName('article')){
    for (const link of article.getElementsByTagName('a')){
      const hostname = link.hostname;
      if (hostname === location.hostname) { continue; }
      link.style.background = `url(http://www.google.com/s2/favicons?domain=${hostname}) 4px center no-repeat`;
      link.style.paddingLeft = '24px';
    }
  }
</script>
</body>
</html>