<!doctype html>
<html lang="ja" itemscope itemtype="http://schema.org/Blog">
<head>
    <meta charset="utf-8">
  <title>メモログ</title>
  <meta name="description" content="💡 Personal notes about somthing I&#39;m interested in" id="meta-description">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/blog/css/global.css">
  <script>window.lazyLoadOptions = {};</script>
<link rel="stylesheet" href="/blog/css/prism.css" type="text/css">
<link rel="stylesheet" href="/blog/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <header class="header header_component_global">
    <div class="header__title header__title"><a href="/blog/">メモログ</a></div>
    <p class="header__description">💡 Personal notes about somthing I&#39;m interested in</p>
    <aside><blockquote class="header__epigraph">Well, he fuffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could not get the house down.</blockquote></aside>
    <nav class="navigation navigation-global">
      <a href="/blog/" class="navigation__link">📘 Latest Articles</a>
    </nav>
  </header>
  <div class="container">
    <main class="main">
      <article itemprop="blogPost" itemscope itemType="http://schema.org/BlogPosting">
        <header class="header">
          <h1 class="header__title" itemprop="name">Page Objects &#x3a; テストスイート構築のためのデザインパターン</h1>
          <div>
            <time datetime="2010-11-20T01:12:10.000Z" itemprop="datePublished">
              <span class="calendar-icon">📅</span><span>2010年11月20日</span>
            </time>
          </div>
          
        </header>
        <div id="article-content" class="content" itemprop="articleBody"><p><a href="https://github.com/jarib/watir-webdriver/wiki/Page-Objects" target="_blank" rel="noopener">Page objects - watir-webdriver - GitHub</a></p>
<a id="more"></a>
<blockquote>
<p>Page Objects is a design pattern to model the application under test as objects in your code. Page Objects eliminate duplication by building an abstraction that allows you to write browsers tests for maximum maintainability and robustness.</p>
</blockquote>
<p>ウェブアプリケーションなどの自動テストを作成する場合に、どのようにテスト(スイート)を構成していくかは結構悩みどころであります。ブラウザのHTML(DOM)の操作を時系列に並べていくだけだと、似たような処理が重複してしまってメンテナンスできるものではなくなってしまう。だからある程度メソッドにまとめてメソッド経由で実行したい。しかし、どのようにメソッドをまとめていこう..とかいろいろ。</p>
<p>Page Objectsはそうした自動テストスイートを構築する上でのガイドライン（デザインパターン）を提示しています。詳しくは<a href="https://github.com/jarib/watir-webdriver/wiki/Page-Objects" target="_blank" rel="noopener">Page objects - watir-webdriver - GitHub</a>と<a href="http://code.google.com/p/selenium/wiki/PageObjects" target="_blank" rel="noopener">PageObjects - selenium -</a> など。</p>
<p>基本的なコンセプトとしては、作成するコードの重複を避けるということ。一つのHTMLの操作は一つの場所でのみ行う（重複させない）。そしてページを一つの「オブジェクト」としてとらえてカプセル化して、一つのページの操作はそこで完結させる。ページオブジェクトでメソッドを実行した後は、（別の）ページオブジェクトを渡す。</p>
<p>たとえば、ログイン実行後にダッシュボードの画面にいく場合は、ログインページのオブジェクトを作成してログインのメソッドを実行、ログインページのオブジェクトはメソッド実行後にダッシュボードのオブジェクトを返す。そうすることで、渡されたダッシュボードのページオブジェクトでログインした後のダッシュボードの画面でのアクションを実行することができる、みたいな。今のオブジェクトが持つ機能の実行をしたあと、実行後のアプリケーションの状態にあわせたオブジェクトを渡すことで、一つのページオブジェクトでそのページを簡潔にまとめつつ、テストはシームレスにつなげていくことができる、みたいな。</p>
<p>そのほかオブジェクトのメソッドはHTML(DOM)を操作するというイメージではなく、実行する機能（サービス）を表現することとか、ページオブジェクトの中ではテストのアサーションは作成しないとか、同じ機能に対するアクションでも別の結果がでる場合は別のメソッドとしてまとめるとか、そうしたPageObjectsのデザインパターンを使った自動テストスイートを構築するためのコツが書かれております。</p>
</div>
      </article>
    </main>
  </div>
  <script src="/blog/js/lazysizes/lazysizes.min.js" async></script>
<script type="text/javascript">
  // http://css-tricks.com/favicons-next-to-external-links/
  for (const article of document.getElementsByTagName('article')){
    for (const link of article.getElementsByTagName('a')){
      const hostname = link.hostname;
      if (hostname === location.hostname) { continue; }
      link.style.background = `url(http://www.google.com/s2/favicons?domain=${hostname}) 4px center no-repeat`;
      link.style.paddingLeft = '24px';
    }
  }
</script>
</body>
</html>